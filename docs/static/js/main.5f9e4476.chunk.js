(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{21:function(e,t,c){},45:function(e,t,c){},59:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(17),i=c.n(s),r=(c(59),c(4)),o=(c(21),c(29)),l=c.n(o),j=c(46),d=c.n(j),b=c(28),O=c.n(b),u=c(7),m=c(5),h=c(1);var x=function(){var e=Object(m.c)((function(e){return e.cart})),t=e.totalPrice,c=e.totalCount;return Object(h.jsx)("div",{children:Object(h.jsx)("nav",{children:Object(h.jsxs)("div",{className:"navbar-header",children:[Object(h.jsx)(u.b,{to:"/",children:Object(h.jsx)("div",{className:"home-icon",children:Object(h.jsx)(d.a,{fontSize:"large",style:{color:"black"}})})}),Object(h.jsx)("div",{className:"title-header",children:Object(h.jsx)("h1",{children:"Book Store"})}),Object(h.jsxs)("div",{className:"icon-wrap",children:[Object(h.jsx)(u.b,{to:"registration",children:Object(h.jsx)(O.a,{fontSize:"large",style:{color:"black"},className:"icon-user"})}),Object(h.jsx)(u.b,{to:"/books",style:{textDecoration:"none"},children:Object(h.jsxs)("div",{className:"link-basket",children:[Object(h.jsxs)("span",{className:"total-price",children:[t," $"]}),Object(h.jsx)(l.a,{fontSize:"large",style:{color:"black"}}),Object(h.jsx)("span",{className:"total-price",children:c})]})})]})]})})})},p=c(3),v=c(8),f=c(47),y=c.n(f),k=c(48),N=c.n(k);var g=function(e){var t=e.id,c=e.desc,n=e.name,s=e.genre,i=e.imageUrl,r=e.price,o=e.types,l=e.alt,j=e.popular,d=e.onClickAddBook,b=e.cartCount,O=Object(a.useState)(o[0]),u=Object(v.a)(O,2),m=u[0],x=u[1],p=["Trial","Full"];return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"cart-books",children:[Object(h.jsx)("div",{className:"image-books books-wrap",children:Object(h.jsx)("img",{className:"img-size",src:i,alt:l})}),Object(h.jsx)("div",{className:"genre-books books-wrap",children:"Rating"}),Object(h.jsx)(N.a,{className:"gauge",style:{height:100,width:200},id:"gauge-chart1",arcPadding:.1,colors:["#EA4228","#F5CD19","#5BE12C"],percent:j/10,cornerRadius:j,textColor:"#ffcc34",formatTextValue:function(e){return e+""},fontSize:"30px"}),Object(h.jsx)("div",{className:"name-books books-wrap",children:n}),Object(h.jsxs)("div",{className:"genre-books books-wrap",children:["Genre : ",s]}),Object(h.jsxs)("div",{className:"price-books books-wrap",children:["Price : ",r," $"]}),Object(h.jsx)("div",{className:" books-wrap type",children:p.map((function(e,t){return Object(h.jsx)("div",{onClick:function(){return function(e){x(e)}(t)},className:y()({active:m===t,disabled:m!==t}),children:e},e)}))}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{className:"button-books books-wrap",children:Object(h.jsxs)("button",{className:"button-add",onClick:function(){var e={id:t,name:n,imageUrl:i,price:r,desc:c,types:p[m]};d(e)},children:[Object(h.jsx)("span",{children:"Add "}),b&&Object(h.jsx)("span",{className:"cart-count",children:b})]})})]})})},C=n.a.memo((function(e){var t=e.activeGenre,c=e.items,a=e.onClickGenre;return Object(h.jsxs)("div",{className:"cont-categories",children:[Object(h.jsx)("div",{onClick:function(){return a(null)},className:null===t?"active genre":"genre",children:"All"}),c&&c.map((function(e,c){return Object(h.jsx)("div",{onClick:function(){return a(c)},className:t===c?"active genre":"genre",children:e},"".concat(e,"_").concat(c))}))]})})),E=n.a.memo((function(e){var t=e.items,c=e.sortType,n=e.activeSortType,s=Object(a.useState)(!1),i=Object(v.a)(s,2),r=i[0],o=i[1],l=Object(a.useRef)(),j=t.find((function(e){return e.type===n})).name,d=function(e){e.path.includes(l.current)||o(!1)};return Object(a.useEffect)((function(){document.body.addEventListener("click",d)}),[]),Object(h.jsxs)("div",{ref:l,className:"sort",children:[Object(h.jsx)("span",{className:"sort-by",children:"Sort: "}),Object(h.jsx)("div",{onClick:function(){o(!r)},children:Object(h.jsx)("div",{className:"select-sort",children:Object(h.jsx)("span",{className:"change-option",children:j})})}),r&&Object(h.jsx)("div",{className:"open-window-sort",children:t&&t.map((function(e,t){return Object(h.jsx)("div",{onClick:function(){return function(e){c&&c(e),o(!1)}(e)},children:Object(h.jsx)("div",{className:n===e.type?"active-sort change-option button-sort":"change-option button-sort",children:e.name})},"".concat(e.type,"_").concat(t))}))})]})})),S=c(49),w=c.n(S),_=function(e){return{type:"SET_BOOKS",payload:e}},T=["Horror","Thrillers","Romance","Graphic Novel","Classics"],A=[{name:"Alphabet",type:"name",order:"asc"},{name:"Popular",type:"popular",order:"desc"},{name:"Price",type:"price",order:"desc"}];var P=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.filter})),c=t.category,a=t.sortBy;n.a.useEffect((function(){e(function(e,t){return function(c){c({payload:!1,type:"SET_LOADED"}),w.a.get("/books?".concat(null!==t?"category=".concat(t):"","&_sort=").concat(e.type,"&_order=").concat(e.order)).then((function(e){var t=e.data;c(_(t))}))}}(a,c))}),[c,a,e]);var s=n.a.useCallback((function(t){e({type:"SET_CATEGORY",payload:t})}),[e]),i=n.a.useCallback((function(t){e(function(e){return{type:"SET_SORT_BY",payload:e}}(t))}),[e]);return Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{activeGenre:c,onClickGenre:s,items:T}),Object(h.jsx)(E,{activeSortType:a.type,items:A,sortType:i})]})},B=c(50);var D=function(){return Object(h.jsxs)(B.a,{speed:2,width:300,height:690,viewBox:"0 0 300 690",backgroundColor:"gray",foregroundColor:"#ecebeb",children:[Object(h.jsx)("rect",{x:"169",y:"343",rx:"0",ry:"0",width:"0",height:"1"}),Object(h.jsx)("rect",{x:"73",y:"5",rx:"30",ry:"30",width:"159",height:"248"}),Object(h.jsx)("rect",{x:"35",y:"364",rx:"0",ry:"0",width:"241",height:"42"}),Object(h.jsx)("rect",{x:"92",y:"449",rx:"0",ry:"0",width:"124",height:"48"}),Object(h.jsx)("rect",{x:"11",y:"513",rx:"30",ry:"30",width:"270",height:"50"}),Object(h.jsx)("rect",{x:"77",y:"581",rx:"30",ry:"30",width:"150",height:"40"}),Object(h.jsx)("rect",{x:"88",y:"269",rx:"30",ry:"30",width:"125",height:"65"})]})};var R=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){var t=e.books;return Array.from(t.items)})),c=Object(m.c)((function(e){return e.cart.items})),a=Object(m.c)((function(e){return e.books.isLoaded})),n=function(t){e({type:"ADD_BOOKS_CART",payload:t})};return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(P,{})}),Object(h.jsx)("div",{className:"cont-books",children:a?t.map((function(e){return Object(h.jsx)(g,Object(p.a)({onClickAddBook:n,cartCount:c[e.id]&&c[e.id].items.length},e),e.id)})):Array(10).fill(0).map((function(e,t){return Object(h.jsx)(D,{},t)}))})]})},I=(c(89),c(45),c(51)),L=c.n(I);var M=function(e){var t=e.active,c=e.setActive,a=e.children;return Object(h.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return c(!1)},children:Object(h.jsx)("div",{className:t?"modal__content active":"modal__content",onClick:function(e){return e.stopPropagation()},children:a})})};var z=function(e){var t=e.id,c=e.name,n=e.type,s=e.totalPrice,i=e.image,r=e.desc,o=e.count,l=e.onRemove,j=e.minusItem,d=e.plusItem,b=Object(a.useState)(!1),O=Object(v.a)(b,2),u=O[0],m=O[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"basket-wrap",children:Object(h.jsxs)("div",{className:"book-cont",children:[Object(h.jsxs)("div",{className:"book",children:[Object(h.jsx)("div",{className:"image-book",children:Object(h.jsx)("img",{className:"image-basket",src:i,alt:"book"})}),Object(h.jsx)("div",{className:"book-name",children:c}),Object(h.jsxs)("div",{className:"book-type",children:[n," Version"]})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("div",{className:"desc",children:r})}),Object(h.jsxs)("div",{className:"count-book",children:[Object(h.jsx)("div",{onClick:function(){j(t)},children:"-"}),Object(h.jsx)("div",{className:"count-num",children:o}),Object(h.jsx)("div",{onClick:function(){d(t)},children:"+"})]}),Object(h.jsxs)("div",{className:"result-sum",children:[s,"$"]}),Object(h.jsx)("div",{onClick:function(){return m(!0)},children:Object(h.jsx)(L.a,{fontSize:"large",style:{color:"black"}})})]})}),Object(h.jsx)(M,{active:u,setActive:m,children:Object(h.jsxs)("div",{className:"books-popup-clear",children:[Object(h.jsx)("p",{children:"Are you sure?"}),Object(h.jsxs)("div",{className:"button-wrap",children:[Object(h.jsx)("div",{className:"btn",onClick:function(){l(t),m(!1)},children:"Yes"}),Object(h.jsx)("div",{className:"btn",onClick:function(){return m(!1)},children:"No"})]})]})})]})};var U=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.cart})),c=t.totalPrice,n=t.totalCount,s=t.items,i=Object.keys(s).map((function(e){return s[e].items[0]})),r=Object(a.useState)(!1),o=Object(v.a)(r,2),j=o[0],d=o[1],b=function(){e({type:"DELETE_BOOKS_CART"}),d(!1)},O=function(t){e(function(e){return{type:"REMOVE_CART_ITEM",payload:e}}(t))},x=function(t){e(function(e){return{type:"PLUS_ITEM",payload:e}}(t))},p=function(t){e(function(e){return{type:"MINUS_ITEM",payload:e}}(t))};return Object(h.jsx)("div",{children:n?Object(h.jsxs)("div",{className:"basket-cont-center",children:[Object(h.jsxs)("div",{className:"basket-wrap-title",children:[Object(h.jsx)("div",{children:Object(h.jsx)(l.a,{fontSize:"large",style:{color:"black"}})}),Object(h.jsx)("div",{className:"clear",onClick:function(){return d(!0)},children:Object(h.jsx)("h1",{children:"Clear"})})]}),i.map((function(e){return Object(h.jsx)(z,{name:e.name,type:e.types,totalPrice:s[e.id].totalPrice,image:e.imageUrl,desc:e.desc,count:s[e.id].items.length,id:e.id,onRemove:O,minusItem:p,plusItem:x},e.id)})),Object(h.jsxs)("div",{className:"basket-wrap-footer",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["Total: ",Object(h.jsx)("span",{children:n})," pc."]})}),Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["Price: ",Object(h.jsx)("span",{children:c})," $"]})})]}),Object(h.jsxs)("div",{className:"basket-wrap-footer",children:[Object(h.jsx)("div",{className:"btn",children:"Back"}),Object(h.jsx)(u.b,{to:"/completed",style:{textDecoration:"none",color:"black"},children:Object(h.jsx)("div",{className:"btn",onClick:b,children:"Buy"})})]}),Object(h.jsx)(M,{active:j,setActive:d,children:Object(h.jsxs)("div",{className:"books-popup-clear",children:[Object(h.jsx)("p",{children:"Are you sure?"}),Object(h.jsxs)("div",{className:"button-wrap",children:[Object(h.jsx)("div",{className:"btn",onClick:b,children:"Yes"}),Object(h.jsx)("div",{className:"btn",onClick:function(){return d(!1)},children:"No"})]})]})})]}):Object(h.jsx)("div",{className:"basket-empty-wrap",children:Object(h.jsxs)("div",{className:"basket-empty-title-img",children:[Object(h.jsx)("h2",{children:"Basket is empty, sorry..."}),Object(h.jsx)("div",{className:"basket-empty-img"}),Object(h.jsx)(u.b,{to:"/",style:{textDecoration:"none",color:"black"},children:Object(h.jsx)("div",{className:"basket-empty-add",children:"Add Books"})})]})})})};c(90);var G=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(""),r=Object(v.a)(i,2),o=r[0],l=r[1],j=Object(a.useState)(!1),d=Object(v.a)(j,2),b=d[0],O=d[1],m=Object(a.useState)(!1),x=Object(v.a)(m,2),p=x[0],f=x[1],y=Object(a.useState)("Email cannot be empty"),k=Object(v.a)(y,2),N=k[0],g=k[1],C=Object(a.useState)("password cannot be empty"),E=Object(v.a)(C,2),S=E[0],w=E[1],_=Object(a.useState)(!1),T=Object(v.a)(_,2),A=T[0],P=T[1];n.a.useEffect((function(){P(!N&&!S)}),[N,S]);var B=function(e){switch(e.target.name){case"email":O(!0);break;case"password":f(!0);break;default:O(!1),f(!1)}};return Object(h.jsx)("div",{className:"registration-wrap",children:Object(h.jsx)("form",{children:Object(h.jsxs)("div",{className:"registration-fieldset",children:[b&&N&&Object(h.jsx)("div",{style:{color:"red"},children:N}),Object(h.jsx)("div",{children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{className:"input-email",onBlur:function(e){return B(e)},onChange:function(e){return function(e){s(e.target.value),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.target.value).toLowerCase())?g(""):g("Mail must be in the format 'example@hotmail.com'")}(e)},value:c,type:"text",name:"email",placeholder:""}),Object(h.jsx)("span",{className:"email-label label-font",children:"Email"})]})}),p&&S&&Object(h.jsx)("div",{style:{color:"red"},children:S}),Object(h.jsx)("div",{children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{className:"input-pass",onBlur:function(e){return B(e)},onChange:function(e){return function(e){l(e.target.value),e.target.value.length>7?w("The length of the password must be no more than 7"):w("")}(e)},value:o,type:"text",name:"password"}),Object(h.jsx)("span",{className:"password-label label-font",children:"Password"})]})}),"admin@mail.ru"===c&&"123"===o?Object(h.jsx)(u.b,{to:"/admin",children:Object(h.jsx)("button",{className:"btn",disabled:!A,type:"submit",children:"Log In"})}):Object(h.jsx)(u.b,{to:"/",children:Object(h.jsx)("button",{className:"btn",disabled:!A,type:"submit",children:"Log In"})})]})})})},K=c(52),Y=c.n(K);var $=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(Y.a,{}),Object(h.jsx)("div",{className:"font-congratulations",children:Object(h.jsx)("p",{children:"Thanks, you're AWESOME!!!"})}),Object(h.jsx)(u.b,{to:"/",style:{color:"black",textDecoration:"none"},children:Object(h.jsx)("div",{className:"font-button-congratulations",children:"Back to books"})})]})};var V=function(e){e.id;var t=e.name,c=e.imageUrl,a=e.price,n=e.alt,s=e.onDeleteAdmin;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"cart-books",children:[Object(h.jsx)("div",{className:"image-books books-wrap",children:Object(h.jsx)("img",{className:"img-size",src:c,alt:n})}),Object(h.jsx)("div",{className:"name-books books-wrap",children:t}),Object(h.jsxs)("div",{className:"price-books books-wrap",children:[a," $"]}),Object(h.jsx)("div",{className:"button-books books-wrap",children:Object(h.jsx)("button",{className:"button-add",onClick:function(){s()},children:Object(h.jsx)("span",{children:"Delete"})})})]})})};var F=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.books.items})),c=function(){var t;e({type:"DELETE_CART_ADMIN",payload:t})};return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(P,{})}),Object(h.jsx)("div",{className:"cont-books",children:t.map((function(e){return Object(h.jsx)(V,Object(p.a)({onDeleteAdmin:c},e),e.id)}))})]})};c(91);var J=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("nav",{children:Object(h.jsxs)("div",{className:"navbar-header",children:[Object(h.jsx)("div",{className:"title",children:Object(h.jsx)("h1",{className:"title-admin",children:"Admin Page"})}),Object(h.jsx)("div",{className:"icon-wrap",children:Object(h.jsx)(u.b,{to:"registration",children:Object(h.jsx)(O.a,{fontSize:"large",style:{color:"black"},className:"icon-user"})})})]})})})};var X=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(J,{}),Object(h.jsx)("div",{children:Object(h.jsx)(F,{})})]})};var Z=function(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(r.a,{path:"/",component:x,exact:!0}),Object(h.jsx)(r.a,{path:"/books",component:x,exact:!0})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(r.a,{path:"/",component:R,exact:!0}),Object(h.jsx)(r.a,{path:"/books",component:U,exact:!0}),Object(h.jsx)(r.a,{path:"/registration",component:G,exact:!0}),Object(h.jsx)(r.a,{path:"/completed",component:$,exact:!0}),Object(h.jsx)(r.a,{path:"/admin",component:X,exact:!0})]})]})},H=c(19),W=c(53),q={sortBy:{type:"popular",order:"desc"},category:null},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return"SET_SORT_BY"===t.type?Object(p.a)(Object(p.a)({},e),{},{sortBy:t.payload}):"SET_CATEGORY"===t.type?Object(p.a)(Object(p.a)({},e),{},{category:t.payload}):e},ee={items:[],isLoaded:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(p.a)(Object(p.a)({},e),{},{items:t.payload,isLoaded:!0});case"SET_LOADED":return Object(p.a)(Object(p.a)({},e),{},{isLoaded:t.payload});default:return e}},ce=c(18),ae=c(35),ne={items:{},totalPrice:0,totalCount:0},se=function(e){return e.reduce((function(e,t){return t.price+e}),0)},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOKS_CART":var c=e.items[t.payload.id]?[].concat(Object(ae.a)(e.items[t.payload.id].items),[t.payload]):[t.payload],a=Object(p.a)(Object(p.a)({},e.items),{},Object(ce.a)({},t.payload.id,{items:c,totalPrice:se(c)})),n=Object.values(a).map((function(e){return e.items})),s=[].concat.apply([],n),i=se(s);return Object(p.a)(Object(p.a)({},e),{},{items:a,totalCount:s.length,totalPrice:i});case"DELETE_BOOKS_CART":return Object(p.a)(Object(p.a)({},e),{},{totalPrice:0,totalCount:0,items:{}});case"PLUS_ITEM":var r=[].concat(Object(ae.a)(e.items[t.payload].items),[e.items[t.payload].items[0]]),o=Object(p.a)(Object(p.a)({},e.items),{},Object(ce.a)({},t.payload,{items:r,totalPrice:se(r),totalCount:r.length}));return Object(p.a)(Object(p.a)({},e.items),{},{items:o,totalPrice:se(r),totalCount:r.length});case"MINUS_ITEM":var l=e.items[t.payload].items,j=l.length>1?e.items[t.payload].items.slice(1):l,d=Object(p.a)(Object(p.a)({},e.items),{},Object(ce.a)({},t.payload,{items:j,totalPrice:se(j),totalCount:j.length}));return Object(p.a)(Object(p.a)({},e),{},{items:d,totalPrice:se(j),totalCount:j.length});case"REMOVE_CART_ITEM":var b=Object(p.a)({},e.items),O=b[t.payload].totalPrice,u=b[t.payload].items.length;return delete b[t.payload],Object(p.a)(Object(p.a)({},e),{},{items:b,totalPrice:e.totalPrice-O,totalCount:e.totalCount-u});case"DELETE_CART_ADMIN":var m=Object(p.a)({},e.items);return delete m[t.payload],Object(p.a)(Object(p.a)({},e),{},{items:{}});default:return e}},re=Object(H.b)({filter:Q,books:te,cart:ie}),oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,le=Object(H.d)(re,oe(Object(H.a)(W.a)));i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(u.a,{children:Object(h.jsx)(m.a,{store:le,children:Object(h.jsx)(Z,{})})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.5f9e4476.chunk.js.map